# Task Tracker Application

### Описание

Приложение "Трекер задач" реализует систему управления задачами и пользователями с использованием реактивного программирования на базе Spring WebFlux и MongoDB. В приложении можно создавать, обновлять, удалять и находить пользователей и задачи, а также управлять наблюдателями за задачами. 

### Технические требования

- **Java 17**: Используется версия Java 17 для разработки приложения.
- **Spring Boot 3.x**: Фреймворк для создания приложения с минимальными конфигурациями.
- **Spring WebFlux**: Реактивная веб-фреймворк, позволяющая обрабатывать запросы с использованием `Mono` и `Flux`.
- **MongoDB**: База данных NoSQL, используемая для хранения сущностей `User` и `Task`.
- **MapStruct**: Библиотека для автоматического маппинга между объектами DTO и сущностями.
- **Lombok**: Используется для уменьшения шаблонного кода (getter, setter и другие служебные методы).
- **Maven**: Система сборки для управления зависимостями и сборкой проекта.

---

### **Реактивные контроллеры**

Все контроллеры приложения должны возвращать либо `Mono`, либо `Flux`, чтобы соответствовать принципам реактивного программирования.

---

### **Советы и рекомендации**

1. **Работа с реактивными запросами**:
   - В реактивной парадигме нельзя использовать аннотации `@DBRef` или `@DocumentReference` для установления связей между сущностями. Вместо этого используйте метод `Mono.zip`, который позволяет объединить несколько запросов к базе данных и использовать их результаты для создания вложенных сущностей.

2. **Обработка пустых значений в `Mono` и `Flux`**:
   - Метод `Mono.zip` **не** работает с пустыми значениями `Mono` или `Flux`. Убедитесь, что данные, передаваемые в `zip`, не являются пустыми, иначе выполнение метода будет прервано.

3. **Работа с полями, не сохраняемыми в БД**:
   - Для полей, которые не должны сохраняться в базу данных, используйте аннотацию `@ReadOnlyProperty`.

---

### **Примеры конечных точек (Endpoints)**

- `GET /api/users` — Получить всех пользователей.
- `GET /api/users/{id}` — Получить пользователя по ID.
- `POST /api/users` — Создать нового пользователя.
- `PUT /api/users/{id}` — Обновить пользователя.
- `DELETE /api/users/{id}` — Удалить пользователя.

- `GET /api/tasks` — Получить все задачи с информацией о вложенных пользователях (автор, исполнитель, наблюдатели).
- `GET /api/tasks/{id}` — Получить задачу по ID с информацией о вложенных пользователях.
- `POST /api/tasks` — Создать новую задачу.
- `PUT /api/tasks/{id}` — Обновить задачу.
- `PATCH /api/tasks/{taskId}/observers/{observerId}` — Добавить наблюдателя к задаче.
- `DELETE /api/tasks/{id}` — Удалить задачу.

---
### Тестирование API

Для тестирования API можно использовать любой инструмент, такой как Postman или cURL.

**Примеры запросов**:

- **Создание пользователя**:

   ```bash
   POST /api/users
   Content-Type: application/json

   {
     "username": "john_doe",
     "email": "john@example.com"
   }

   POST /api/tasks
  Content-Type: application/json

  {
  "name": "Create documentation",
  "description": "Write the project documentation",
  "authorId": "author123",
  "assigneeId": "assignee456",
  "status": "TODO"
  }
   

### Заключение
Данное приложение предоставляет функциональный API для работы с пользователями и задачами, реализованный на основе реактивного программирования с использованием 
Spring WebFlux и MongoDB. Оно демонстрирует использование принципов асинхронного взаимодействия, а также эффективно решает задачу связи между сущностями без использования DBRef с помощью Mono.zip.
